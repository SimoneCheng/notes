---
sidebar_position: 1
title: Stack and Queue å †ç–Šèˆ‡ä½‡åˆ—
date: 2023-01-25
---

import Figure from "@site/src/components/Figure";
import StackImg from "./images/stack.png";
import QueueImg from "./images/queue.png";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

## ğŸ³ å¯«åœ¨å‰é¢

é€™é‚Šæƒ³è¦ç´€éŒ„ä¸€äº›é–‹å§‹å¿µè³‡æ–™çµæ§‹ä¹‹å¾Œçš„åˆæ­¥æ„Ÿæƒ³ï¼Œè®“æœªä¾†çš„è‡ªå·±å¯ä»¥å›é¡§ã€‚å¯èƒ½ä¸ä¸€å®šæ˜¯å°çš„ï¼Œä½†å°±æ˜¯æ„Ÿæƒ³ã€‚

é›–ç„¶ä¸åŒçš„ç¨‹å¼èªè¨€æœƒå› ç‚ºä¸åŒçš„ç‰¹æ€§æä¾›ä¸€äº›è³‡æ–™å‹æ…‹ï¼Œæ¯”å¦‚ JavaScript æœ‰ number, string, boolean, array, class ç­‰ç­‰ã€‚è³‡æ–™çµæ§‹æ¯”è¼ƒåƒæ˜¯ä¸€ç¨®ä»¥ç¾æœ‰çš„è³‡æ–™å‹æ…‹å»è¨­è¨ˆæŸç¨®çµæ§‹ï¼Œè©²ç¨®çµæ§‹ä¹‹æ‰€ä»¥è¢«è¨­è¨ˆå‡ºä¾†å¯èƒ½æ˜¯å› ç‚ºæ™‚é–“èˆ‡ç©ºé–“ä¸Šçš„æ•ˆèƒ½è€ƒé‡ï¼Œæˆ–æ˜¯ç”¨ä¾†è§£æ±ºéœ€æ±‚çš„å•é¡Œã€‚

æ‰€ä»¥å­¸è³‡æ–™çµæ§‹çš„æ™‚å€™ï¼Œé™¤äº†ææ‡‚æ¯å€‹è³‡æ–™çµæ§‹çš„é•·ç›¸ã€ç‰¹æ€§ã€åˆ·é¡Œï¼Œæ›´éœ€è¦çŸ¥é“ä¸€äº›å¯¦éš›çš„æ‡‰ç”¨æƒ…å¢ƒï¼Œæƒ³è¦è§£æ±ºä»€éº¼æ¨£çš„å•é¡Œã€‚

## ğŸ³ Array and Linked List

åœ¨ç†è§£ä»€éº¼æ˜¯ stack è·Ÿ queue ä¹‹å‰ï¼Œè¦å…ˆç†è§£ array å’Œ linked list é€™å…©ç¨®ä¸åŒçš„è³‡æ–™çµæ§‹ã€‚å› ç‚º stack å’Œ queue å…¶å¯¦å¯ä»¥ç”¨ array æˆ–æ˜¯ lnked list ä¾†å¯¦ä½œã€‚

array æ‡‰è©²å°±ä¸ç”¨ç‰¹åˆ¥è§£é‡‹äº†ï¼Œä½†å¦‚æœç¬¬ä¸€å€‹å­¸ç¿’çš„ç¨‹å¼èªè¨€æ˜¯ JavaScriptï¼Œåˆæ²’æœ‰å­¸éè³‡æ–™çµæ§‹çš„è©±ï¼Œå¯èƒ½ä¸æœƒé‡åˆ° linked list é€™ç¨®è³‡æ–™çµæ§‹ã€‚

ä»¥æˆ‘ç›®å‰çš„ç†è§£ä¾†èªªã€‚C èªè¨€çš„ array åœ¨å®£å‘Šçš„æ™‚å€™ä¹Ÿè¦åŒæ™‚å®£å‘Šé•·åº¦ï¼Œä¹Ÿå°±æ˜¯èªªå®£å‘Šäº† array éœ€è¦ç”¨åˆ°çš„è¨˜æ†¶é«”ç”¨é‡ï¼Œæ‰€ä»¥ array çš„é•·åº¦æœƒæ˜¯å›ºå®šçš„ï¼Œæ²’æœ‰è¾¦æ³•å‹•æ…‹èª¿æ•´ã€‚

å¦‚æœæƒ³è¦ä½¿ç”¨ C èªè¨€å‰µé€ ä¸€å€‹å‹•æ…‹é•·åº¦çš„é™£åˆ—ï¼Œå¯ä»¥æ‹¿å–è¨˜æ†¶é«”ä¸­ä»»ä¸€çš„å–®ä¸€å€å¡Šä¾†å­˜æ”¾ dataï¼ˆç¨±ç‚ºç¯€é» nodeï¼‰ï¼Œäº¦å³æ”¾å…¥å€¼å’ŒæŒ‡æ¨™ï¼Œç„¶å¾Œç”¨æŒ‡æ¨™æŒ‡å‘ä¸‹å€‹ç¯€é»ï¼ˆnodeï¼‰ï¼Œä¸²æˆä¸€å€‹éµçµä¸²åˆ—ï¼Œé¡ä¼¼ä¸‹åœ–çš„æ¦‚å¿µï¼š

```mermaid
flowchart LR
  A[[node 1]] --> B[[node 2]]
  B --> C[[node 3]]
  C --> D[[...]]
```

### ğŸ¦€ Array å’Œ Linked List çš„ç°¡å–®æ¯”è¼ƒ

|      | array                                                                                                                                                                                                                                                                                   | linked list                                                                                                                                                                                                                        |
| ---- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| å„ªé» | <ul><li>random accessï¼šåªè¦åˆ©ç”¨ index å³å¯åœ¨ `O(1)` æ™‚é–“å° array çš„è³‡æ–™åšå­˜å–ã€‚</li><li>è¼ƒç¯€çœè¨˜æ†¶é«”ç©ºé–“ï¼Œlinked list éœ€è¦å¤šä¸€å€‹ pointer ä¾†è¨˜éŒ„ä¸‹ä¸€å€‹ node çš„è¨˜æ†¶é«”ä½ç½®ã€‚</li></ul>                                                                                                     | <ul><li>æ–°å¢æˆ–åˆªé™¤è³‡æ–™è¼ƒ array ç°¡å–®ï¼Œåªè¦å°æ‰€æœ‰æ¬²æ–°å¢/åˆªé™¤çš„ node èª¿æ•´ pointer å³å¯ï¼ˆæ™‚é–“è¤‡é›œåº¦ï¼š`O(1)`ï¼‰ï¼Œä¸éœ€è¦å¦‚åŒ array èˆ¬æ¬å‹•å…¶é¤˜å…ƒç´ ã€‚</li><li>linked list çš„è³‡æ–™æ•¸é‡å¯ä»¥æ˜¯å‹•æ…‹çš„ï¼Œä¸åƒ array æœƒæœ‰ resize çš„å•é¡Œã€‚</li></ul> |
| ç¼ºé» | <ul><li>æ–°å¢æˆ–åˆªé™¤è³‡æ–™è¼ƒéº»ç…©ï¼Œè‹¥è¦åœ¨ç¬¬ä¸€å€‹ä½ç½®æ–°å¢è³‡æ–™ï¼Œå°±éœ€è¦ `O(n)` æ™‚é–“æŠŠ array ä¸­æ‰€æœ‰å…ƒç´ å¾€å¾Œç§»å‹•ã€‚åŒç†ï¼Œè‹¥è¦åˆªé™¤ç¬¬ä¸€å€‹ä½ç½®çš„è³‡æ–™ï¼Œä¹Ÿéœ€è¦ `O(n)` æ™‚é–“æŠŠ array ä¸­å‰©é¤˜çš„å…ƒç´ å¾€å‰ç§»å‹•ã€‚</li><li>è‹¥è³‡æ–™æ•¸é‡æ™‚å¸¸åœ¨æ”¹è®Šï¼Œè¦æ™‚å¸¸èª¿æ•´çŸ©é™£çš„å¤§å°ï¼ŒæœƒèŠ±è²» `O(n)` çš„æ™‚é–“åœ¨æ¬å‹•è³‡æ–™ã€‚</li></ul> | <ul><li>linked list æ²’æœ‰ indexï¼Œè‹¥è¦æ‰¾åˆ°ç‰¹å®š nodeï¼Œéœ€è¦å¾é ­é–‹å§‹æ‰¾èµ·ï¼Œæœå°‹çš„æ™‚é–“è¤‡é›œåº¦ç‚º `O(n)`ã€‚</li><li>éœ€è¦é¡å¤–çš„è¨˜æ†¶é«”ç©ºé–“ä¾†å„²å­˜ pointerã€‚</li></ul>                                                                            |

## ğŸ³ Stack å †ç–Š

Stack å’Œ Queue éƒ½æ˜¯å¯ä»¥ç”¨ä¾†åŠ å…¥è³‡æ–™ã€å–å›è³‡æ–™çš„æŠ½è±¡è³‡æ–™çµæ§‹ï¼Œåªæ˜¯ä»–å€‘åŠ å…¥è³‡æ–™å’Œå–å›è³‡æ–™çš„ order ä¸åŒã€‚

Stack æ˜¯æ¡å– **LIFOï¼ˆlast-in, first-outï¼‰** çš„æ–¹å¼ã€‚æœ€å¾ŒåŠ å…¥ stack çš„è³‡æ–™æœƒæœ€å…ˆè¢«è®€å–ã€‚åŠ å…¥è³‡æ–™çš„æ–¹å¼ç¨±ç‚º `push`ï¼Œå–å›è³‡æ–™çš„æ–¹å¼ç¨±ç‚º `pop`ã€‚å¦‚ä¸‹é¢çš„ç¤ºæ„åœ–ï¼š

<Figure src={StackImg} caption="åœ–ç‰‡ä¾†æºï¼šç¶­åŸºç™¾ç§‘" />

stack çš„ä»‹é¢æè¿°å¤§è‡´å¦‚ä¸‹ï¼š

:::info
Stack ADT (abstract data type)ï¼š

- **`create()`**: create an empty stack
- **`isFull()`**: return true if the stack is full, otherwise return false
- **`isEmpty()`**: return true if the stack is empty, otherwise return false
- **`push(new-item)`**: add a new item to the top of the stack
- **`pop()`**: remove the top element from the stack and return it to the caller
- **`top()`**: return the top element of the stack without removing it
:::

### ğŸ¦€ ç”¨ Array ä¾†å¯¦ä½œ Stack

<Tabs groupId="programming-language">
<TabItem value="javascript" label="JavaScript" default>

```javascript
class Stack {
  constructor() {
    this.items = [];
  }

  get isEmpty() {
    return this.items.length === 0;
  }

  get stackSize() {
    return this.items.length;
  }

  push = (item) => {
    this.items.push(item);
  };

  pop = () => {
    if (this.isEmpty) {
      return null;
    }
    return this.items.pop();
  };

  top = () => {
    return this.items[this.stackSize - 1];
  };

  // isFull çœç•¥
  // å› ç‚º JavaScript çš„ array size å‹•æ…‹çš„ï¼Œæ‰€ä»¥æ²’æœ‰ç‰¹åˆ¥è¨­è¨ˆçš„è©±å°±ä¸æœƒ full
}
```

</TabItem>
</Tabs>

### ğŸ¦€ ç”¨ Linked List ä¾†å¯¦ä½œ Stack

<Tabs groupId="programming-language">
<TabItem value="javascript" label="JavaScript" default>

```js
// a linked list node
class Node {
  constructor(data, next) {
    this.data = data;
    this.next = next;
  }
}

// a stack using linked list
class Stack {
  constructor() {
    this.top = null;
    this.size = 0;
  }

  get isEmpty() {
    return this.size === 0;
  }

  push = (item) => {
    const newNode = new Node(item, this.top);
    this.top = newNode;
    this.size++;
  };

  pop = () => {
    if (this.isEmpty) {
      return null;
    }
    const poppedNode = this.top;
    const newTopNode = this.top.next;
    poppedNode.next = null;
    this.top = newTopNode;
    this.size--;
    return poppedNode.data;
  };

  getTop = () => {
    if (this.isEmpty) {
      return null;
    }
    return this.top.data;
  };
}
```

</TabItem>
</Tabs>

## ğŸ³ Queue ä½‡åˆ—

Queue å­˜å–è³‡æ–™çš„é †åºæ˜¯æ¡å–å…ˆé€²å…ˆå‡ºçš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ **first in first out(FIFO)**ã€‚å°‡è³‡æ–™å­˜å…¥ Queue è£¡é¢ç¨±ç‚º `enqueue`ï¼Œå°‡è³‡æ–™å¾ Queue ä¸­å–å‡ºç¨±ç‚º `dequeue`ã€‚æ¦‚å¿µå¦‚ä¸‹åœ–æ‰€ç¤ºï¼š

<Figure src={QueueImg} caption="åœ–ç‰‡ä¾†æºï¼šç¶­åŸºç™¾ç§‘" />

:::info
Queue ADT:

- **`enqueue()`**: adds an element to the rear of the queue
- **`dequeue()`**: removes an element from the front of the queue
- **`isEmpty()`**: determines whether the queue is empty
- **`isFull()`**: determines whether the queue is full
- **`first or front element`**: return the element at the front of the queue if it is not empty
:::

### ğŸ¦€ ç”¨ Linear Array ä¾†å¯¦ä½œ Queue

<Tabs groupId="programming-language">
<TabItem value="javascript" label="JavaScript" default>

```js
class Queue {
  constructor() {
    this.items = [];
  }

  get isEmpty() {
    return this.items.length === 0;
  }

  getFront = () => {
    return this.items[0];
  }

  enqueue = (item) => {
    this.items.push(item);
  };

  dequeue = () => {
    this.items.shift();
  };
}
```

</TabItem>
</Tabs>

### ğŸ¦€ ç”¨ Circular Array ä¾†å¯¦ä½œ Queue

<Tabs groupId="programming-language">
<TabItem value="javascript" label="JavaScript" default>

```js
class circularQueue {
  constructor(arraySize) {
    this.items = new Array(arraySize);
    this.rear = this.items.length - 1;
    this.front = 0;
    this.size = 0;
  }

  get isEmpty() {
    return this.size === 0;
  }

  get isFull() {
    return this.size === this.items.length;
  }

  enQueue = (item) => {
    if (this.isFull) return null;
    this.rear = (this.rear + 1) % this.items.length;
    this.items[this.rear] = value;
    this.size++;
  }

  deQueue = () => {
    if (this.isEmpty) return null;
    this.front = (this.front + 1) % this.items.length;
    this.size--;
  }

  getFront = () => {
    return this.isEmpty ? -1 : this.items[this.front];
  }

  getRear = () => {
    return this.isEmpty ? -1 : this.items[this.rear];
  }
}
```

</TabItem>
</Tabs>

### ğŸ¦€ ç”¨ Linked List ä¾†å¯¦ä½œ Queue

<Tabs groupId="programming-language">
<TabItem value="javascript" label="JavaScript" default>

```js
class Node {
  constructor(data, next) {
    this.data = data;
    this.next = next;
  }
}

class Queue {
  constructor() {
    this.front = null;
    this.rear = null;
    this.size = 0;
  }

  get isEmpty() {
    return this.size === 0;
  }

  enqueue = (item) => {
    const newNode = new Node(item, null);
    if (!this.front) {
      this.front = newNode;
      this.rear = newNode;
    } else {
      this.rear.next = newNode;
      this.rear = newNode;
    }
    this.size++;
  }

  dequeue = () => {
    if (!this.front) {
      return null;
    }
    const dequeuedItem = this.front;
    const nextItem = this.front.next;
    if (this.front.data === this.rear.data) {
      this.rear = null
    }
    this.front = nextItem;
    this.size--;
    return dequeuedItem.data;
  }

  getFront = () => {
    return this.front.data;
  }

  getRear = () => {
    return this.rear.data;
  }
}
```

</TabItem>
</Tabs>

## ğŸ³ å¯¦éš›æ‡‰ç”¨

### ğŸ¦€ å‰ç«¯

#### Stack

- error call stack
- ç€è¦½å™¨çš„æ­·å²ç´€éŒ„
- æ–‡æœ¬æˆ–æ˜¯åœ–ç‰‡ç·¨è¼¯å™¨çš„æ“ä½œç´€éŒ„ï¼ˆå¯ä»¥ç”¨ä¾†åšè¤‡è£½å¾©åŸç­‰ç­‰ï¼‰
- javascript call stackï¼ˆjavascript ç”¨ä¾†è™•ç†å‡½æ•¸åŸ·è¡Œçš„æ–¹æ³•ï¼‰

#### Queue

- ç€è¦½å™¨çš„éåŒæ­¥è™•ç†ï¼ˆevent queue / task queueï¼‰
- é€šçŸ¥åŠŸèƒ½

### :crab: å…¶ä»–

#### Stack
- parse context-free languages
- evaluate arithmetic expressions(infix, postfix, prefix)
- function call, recursive call management
- reverse the input data
- traverse trees(preorder, inorder, postorder)
- DFS graph traversal
- eight queen problem
- maze problem

#### Queue
- OS ä¸­çš„å„ç¨®æ‡‰ç”¨ï¼šready queueã€waiting queueã€job queueã€I/O Derive queue etc.
- buffering
- åŸºæ–¼ä½‡åˆ—ç†è«–çš„è¨ˆç®—æ©Ÿæ•ˆèƒ½æ¨¡æ“¬
- åœ–å½¢çš„ BFS
- binary tree çš„ level order traversal

## :whale: é¡Œç›®ç·´ç¿’

## ğŸ³ Resource

- [Linked List: Intro(ç°¡ä»‹)](http://alrightchiu.github.io/SecondRound/linked-list-introjian-jie.html) by Chiu CC
- [ä½ æ‰€ä¸çŸ¥é“çš„ C èªè¨€: linked list å’Œéé€£çºŒè¨˜æ†¶é«”](https://hackmd.io/@sysprog/c-linked-list) by jserv å¤§å¤§
