"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[740],{3905:(n,e,t)=>{t.d(e,{Zo:()=>u,kt:()=>s});var a=t(7294);function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){i(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function r(n,e){if(null==n)return{};var t,a,i=function(n,e){if(null==n)return{};var t,a,i={},o=Object.keys(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)t=o[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var p=a.createContext({}),c=function(n){var e=a.useContext(p),t=e;return n&&(t="function"==typeof n?n(e):l(l({},e),n)),t},u=function(n){var e=c(n.components);return a.createElement(p.Provider,{value:e},n.children)},d={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(n,e){var t=n.components,i=n.mdxType,o=n.originalType,p=n.parentName,u=r(n,["components","mdxType","originalType","parentName"]),m=c(t),s=i,k=m["".concat(p,".").concat(s)]||m[s]||d[s]||o;return t?a.createElement(k,l(l({ref:e},u),{},{components:t})):a.createElement(k,l({ref:e},u))}));function s(n,e){var t=arguments,i=e&&e.mdxType;if("string"==typeof n||i){var o=t.length,l=new Array(o);l[0]=m;var r={};for(var p in e)hasOwnProperty.call(e,p)&&(r[p]=e[p]);r.originalType=n,r.mdxType="string"==typeof n?n:i,l[1]=r;for(var c=2;c<o;c++)l[c]=t[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},9066:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var a=t(7462),i=(t(7294),t(3905));const o={title:"Execution Contexts & Lexical Environments",date:new Date("2022-03-11T00:00:00.000Z")},l=void 0,r={unversionedId:"notes/\u514b\u670dJS\u7684\u5947\u602a\u90e8\u5206/execution-contexts-and-lexical-Environments",id:"notes/\u514b\u670dJS\u7684\u5947\u602a\u90e8\u5206/execution-contexts-and-lexical-Environments",title:"Execution Contexts & Lexical Environments",description:"\ud83d\udc33 Concept Asides \u540d\u8a5e\u89e3\u91cb",source:"@site/docs/notes/\u514b\u670dJS\u7684\u5947\u602a\u90e8\u5206/execution-contexts-and-lexical-Environments.md",sourceDirName:"notes/\u514b\u670dJS\u7684\u5947\u602a\u90e8\u5206",slug:"/notes/\u514b\u670dJS\u7684\u5947\u602a\u90e8\u5206/execution-contexts-and-lexical-Environments",permalink:"/notes/docs/notes/\u514b\u670dJS\u7684\u5947\u602a\u90e8\u5206/execution-contexts-and-lexical-Environments",draft:!1,editUrl:"https://github.com/SimoneCheng/notes/tree/main/docs/notes/\u514b\u670dJS\u7684\u5947\u602a\u90e8\u5206/execution-contexts-and-lexical-Environments.md",tags:[],version:"current",frontMatter:{title:"Execution Contexts & Lexical Environments",date:"2022-03-11T00:00:00.000Z"},sidebar:"notes",previous:{title:"Learning Plan",permalink:"/notes/docs/notes/learning-plan"},next:{title:"Objects and Functions - Part 1",permalink:"/notes/docs/notes/\u514b\u670dJS\u7684\u5947\u602a\u90e8\u5206/objects-and-functions-part-1"}},p={},c=[{value:"\ud83d\udc33 Concept Asides \u540d\u8a5e\u89e3\u91cb",id:"-concept-asides-\u540d\u8a5e\u89e3\u91cb",level:2},{value:"\ud83e\udd80 Syntax Parser \u8a9e\u610f\u5206\u6790",id:"-syntax-parser-\u8a9e\u610f\u5206\u6790",level:3},{value:"\ud83e\udd80 Lexical Environment \u8a5e\u5f59\u74b0\u5883",id:"-lexical-environment-\u8a5e\u5f59\u74b0\u5883",level:3},{value:"\ud83e\udd80 Execution Context \u57f7\u884c\u74b0\u5883",id:"-execution-context-\u57f7\u884c\u74b0\u5883",level:3},{value:"\ud83e\udd80 Name/Value Pair",id:"-namevalue-pair",level:3},{value:"\ud83e\udd80 Object",id:"-object",level:3},{value:"\ud83e\udd80 JavaScript and &#39;undefined&#39;",id:"-javascript-and-undefined",level:3},{value:"\ud83e\udd80 Single Threaded \u55ae\u57f7\u884c\u7dd2",id:"-single-threaded-\u55ae\u57f7\u884c\u7dd2",level:3},{value:"\ud83e\udd80 Synchrnous Execution \u540c\u6b65\u57f7\u884c",id:"-synchrnous-execution-\u540c\u6b65\u57f7\u884c",level:3},{value:"\ud83d\udc33 The Global Environment and The Global Object",id:"-the-global-environment-and-the-global-object",level:2},{value:"\ud83d\udc33 The Execution Context",id:"-the-execution-context",level:2},{value:"\ud83e\udd80 Creation and Hoisting",id:"-creation-and-hoisting",level:3},{value:"\ud83e\udd80 Code Execution",id:"-code-execution",level:3},{value:"\ud83d\udc33 Function Invocation and the Execution Stack(Call Stack)",id:"-function-invocation-and-the-execution-stackcall-stack",level:2},{value:"\ud83d\udc33 Functions, Context, and Variables Environments",id:"-functions-context-and-variables-environments",level:2},{value:"\ud83d\udc33 The Scope Chain",id:"-the-scope-chain",level:2},{value:"\ud83d\udc33 Scope, ES6, and let",id:"-scope-es6-and-let",level:2},{value:"\ud83d\udc33 What about Asynchronous Callbacks?",id:"-what-about-asynchronous-callbacks",level:2}],u={toc:c};function d(n){let{components:e,...t}=n;return(0,i.kt)("wrapper",(0,a.Z)({},u,t,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"-concept-asides-\u540d\u8a5e\u89e3\u91cb"},"\ud83d\udc33 Concept Asides \u540d\u8a5e\u89e3\u91cb"),(0,i.kt)("h3",{id:"-syntax-parser-\u8a9e\u610f\u5206\u6790"},"\ud83e\udd80 Syntax Parser \u8a9e\u610f\u5206\u6790"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"}," A program that reads your code and determines what it does and if its grammar is valid.")),(0,i.kt)("p",null,"\u7576\u6211\u5011\u5728\u5beb JavaScript \u7684\u6642\u5019\uff0c\u5beb\u5b8c\u4e4b\u5f8c\u5176\u5be6\u96fb\u8166\u662f\u770b\u4e0d\u61c2\u7684\uff0c\u800c\u662f\u9700\u8981\u900f\u904e\u7de8\u8b6f\u5668(complier) \u4f86\u7ffb\u8b6f\u6210\u96fb\u8166\u770b\u5f97\u61c2\u7684\u8a9e\u8a00\uff0c\u624d\u80fd\u5920\u5e6b\u6211\u5011\u57f7\u884c\u6211\u5011\u60f3\u8981\u5be6\u73fe\u7684\u529f\u80fd\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-mermaid"},"graph LR\nA[JavaScript] --\x3e B[Complier: Syntax Parser]\nB --\x3e C[assembly language]\nstyle B fill:#FFFF93,stroke:#C6A300\n")),(0,i.kt)("h3",{id:"-lexical-environment-\u8a5e\u5f59\u74b0\u5883"},"\ud83e\udd80 Lexical Environment \u8a5e\u5f59\u74b0\u5883"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"}," Where something sits physically in the code you write.")),(0,i.kt)("p",null,"\u7576\u6211\u5011\u5728\u5beb JavaScript \u7684\u6642\u5019\uff0cLexical Environment \u95dc\u6ce8\u7684\u662f\u9019\u500b function \u88ab\u5beb\u5728\u9019\u500b\u7a0b\u5f0f\u4e2d\u7684\u54ea\u500b\u90e8\u5206\uff0c\u4ee5\u53ca\u5b83\u5468\u906d\u7684\u74b0\u5883\u662f\u4ec0\u9ebc\uff0c\u6709\u4e86 Lexical Environment\uff0c\u53ef\u4ee5\u8b93 Syntax Parser \u66f4\u5bb9\u6613\u89e3\u6790\u6574\u500b\u7a0b\u5f0f\u78bc\uff0c\u6bd4\u5982\u8aaa\u4ee5\u4e0b\u7684\u7a0b\u5f0f\u78bc\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'function Greeting() {\n    const a  = "Hello World!";\n    console.log(a);\n}\n\n// a \u9019\u500b\u8b8a\u6578\u662f\u5b58\u5728\u65bc Greeting \u9019\u500b\u51fd\u6578\u7684\u74b0\u5883\u4e2d\n')),(0,i.kt)("p",null,"\u4e26\u4e0d\u662f\u6240\u6709\u7684\u7a0b\u5f0f\u8a9e\u8a00\u90fd\u6709 Lexical Environment\uff0c\u4f46 JavaScript \u6709\u3002"),(0,i.kt)("h3",{id:"-execution-context-\u57f7\u884c\u74b0\u5883"},"\ud83e\udd80 Execution Context \u57f7\u884c\u74b0\u5883"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"}," A wrapper to help manage the code that is running.",(0,i.kt)("br",{parentName:"p"}),"\n","There are lots of lexical environments. Which one is currently running is managed via execution contexts. It can contain things beyond what you've written in your code.")),(0,i.kt)("p",null,"\u7576\u6211\u5011\u5beb\u597d\u7a0b\u5f0f\u78bc\u4e4b\u5f8c\uff0c\u6211\u5011\u8a72\u5982\u4f55\u77e5\u9053\u5b83\u662f\u6309\u7167\u4ec0\u9ebc\u6a23\u7684\u9806\u5e8f\u88ab\u96fb\u8166\u57f7\u884c\u7684\uff1f\u6574\u500b\u7a0b\u5f0f\u78bc\u7684\u57f7\u884c\u6d41\u7a0b\u662f\u5982\u4f55\u5b89\u6392\u7684\uff1f\u9019\u5c31\u662f Execution Context \u9700\u8981\u505a\u7684\u5de5\u4f5c\u3002"),(0,i.kt)("h3",{id:"-namevalue-pair"},"\ud83e\udd80 Name/Value Pair"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"A name which maps to a unique value.",(0,i.kt)("br",{parentName:"p"}),"\n","The name may be defined more than once, but only can have one value in any given ",(0,i.kt)("strong",{parentName:"p"},"context"),".",(0,i.kt)("br",{parentName:"p"}),"\n","That value may be more name/value pairs.")),(0,i.kt)("h3",{id:"-object"},"\ud83e\udd80 Object"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"A collection of name/value pairs.",(0,i.kt)("br",{parentName:"p"}),"\n","The simplest definition when talking about ",(0,i.kt)("strong",{parentName:"p"},"JavaScript"),".")),(0,i.kt)("h3",{id:"-javascript-and-undefined"},"\ud83e\udd80 JavaScript and 'undefined'"),(0,i.kt)("p",null,"\u76f4\u63a5\u4f86\u770b\u770b\u5169\u500b\u4e0d\u540c\u7684\u4f8b\u5b50\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u7bc4\u4f8b\u4e00\nvar a;\nconsole.log(a);\n\n// \u5370\u51fa undefined\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u7bc4\u4f8b\u4e8c\nconsole.log(a);\n\n// \u5831\u932f\uff1a\u5370\u51fa Uncaught ReferenceError: a is not defined\n")),(0,i.kt)("p",null,"\u6211\u5011\u53ef\u4ee5\u77e5\u9053\u7bc4\u4f8b\u4e00\u548c\u7bc4\u4f8b\u4e8c\u90fd\u5370\u51fa\u4e86\u6771\u897f\uff0c\u4f46 undefined \u548c is not defined \u5f9e\u82f1\u6587\u5b57\u9762\u4e0a\u4f86\u770b\u4e0d\u662f\u4e00\u6a23\u7684\u610f\u601d\u55ce\uff1f\u5176\u5be6\u9019\u5169\u8005\u5c0d JavaScript \u4f86\u8aaa\u662f\u5169\u500b\u4e0d\u4e00\u6a23\u7684\u6771\u897f\u3002"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"undefined")," \u5728\u9019\u88e1\u7684\u610f\u601d\u662f\uff1aJavaScript \u5df2\u7d93\u70ba\u9019\u500b\u8b8a\u6578\u9810\u7559\u4e86\u4e00\u500b\u8a18\u61b6\u9ad4\u7684\u4f4d\u7f6e\uff0c\u4f46\u56e0\u70ba\u9019\u500b\u8b8a\u6578\u9084\u6c92\u6709\u88ab\u8ce6\u503c\uff0c\u6240\u4ee5 JavaScript \u5c31\u5148\u66ab\u6642\u8a2d\u4e86\u4e00\u500b\u521d\u59cb\u503c\u7d66\u4f60\uff0c\u7136\u5f8c\u9019\u500b\u521d\u59cb\u503c\u53eb\u505a\u300cundefined\u300d\u3002\u6240\u4ee5\u6211\u5011\u53ef\u4ee5\u628a undefined \u7406\u89e3\u70ba\u300c\u5c1a\u672a\u8a2d\u5b9a\u7684\u503c\u300d\u3002"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"is not defined")," \u7684\u610f\u601d\u5247\u662f\uff1aJaveScript \u5728\u8a18\u61b6\u9ad4\u4f4d\u7f6e\u7576\u4e2d\u4e26\u6c92\u6709\u5c0b\u627e\u5230\u8a72\u8b8a\u6578\uff0c\u6240\u4ee5\u5b83\u5c31\u6703\u5831\u932f\uff0c\u544a\u8a34\u6211\u5011 ",(0,i.kt)("inlineCode",{parentName:"p"},"Uncaught ReferenceError: a is not defined"),"\u3002"),(0,i.kt)("h3",{id:"-single-threaded-\u55ae\u57f7\u884c\u7dd2"},"\ud83e\udd80 Single Threaded \u55ae\u57f7\u884c\u7dd2"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"One command at a time.",(0,i.kt)("br",{parentName:"p"}),"\n","Under the hood of the browser, maybe not.")),(0,i.kt)("p",null,"JavaScript \u662f\u4e00\u500b\u55ae\u57f7\u884c\u7dd2\u7684\u8a9e\u8a00\uff0c\u4e5f\u5c31\u662f\u8aaa JavaScript \u5728\u57f7\u884c\u7684\u6642\u5019\uff0c\u4e00\u6b21\u53ea\u80fd\u505a\u4e00\u4ef6\u4e8b\u60c5\u3002\u4f46\u662f\u5982\u679c\u6211\u5011\u662f\u5728 browser \u9019\u500b\u74b0\u5883\u4e4b\u4e0b\u57f7\u884c JavaScript\uff0cbrowser \u672c\u8eab\u53ef\u4ee5\u5e6b\u6211\u505a\u5230\u591a\u57f7\u884c\u7dd2\u7684\u4e8b\u60c5\uff0c\u4f46\u662f\u5c31\u50cf\u958b\u982d\u63d0\u5230\u7684 JavaScript \u672c\u8eab\u662f\u4e00\u500b\u55ae\u57f7\u884c\u7dd2\u7684\u8a9e\u8a00\u3002"),(0,i.kt)("h3",{id:"-synchrnous-execution-\u540c\u6b65\u57f7\u884c"},"\ud83e\udd80 Synchrnous Execution \u540c\u6b65\u57f7\u884c"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"One at a time and in order.")),(0,i.kt)("p",null,"JavaScript \u662f\u540c\u6b65\u57f7\u884c\u7684\uff0c\u4e5f\u5c31\u662f\u8aaa\u505a\u5b8c\u4e00\u4ef6\u4e8b\u60c5\uff0c\u624d\u6703\u505a\u4e0b\u4e00\u4ef6\u4e8b\u60c5\uff0c\u800c\u4e14\u6703\u6309\u7167\u4e8b\u60c5\u6392\u597d\u7684\u9806\u5e8f\u4f9d\u5e8f\u505a\u4e0b\u53bb\u3002"),(0,i.kt)("h2",{id:"-the-global-environment-and-the-global-object"},"\ud83d\udc33 The Global Environment and The Global Object"),(0,i.kt)("p",null,"\u7576 JavaScript \u5728\u57f7\u884c\u7684\u6642\u5019\uff0c\u5b83\u4e00\u5b9a\u6703\u5728\u4e00\u500b\u5168\u57df\u57f7\u884c\u74b0\u5883 (Global Environment) \u7576\u4e2d\u57f7\u884c\uff0c\u5728\u9019\u500b\u74b0\u5883\u7576\u4e2d\u6703\u6709\u4e00\u500b\u5168\u57df\u7269\u4ef6 (Global Object)\uff0c\u4ee5\u53ca\u4e00\u500b\u5f88\u7279\u6b8a\u7684 variable \u300cthis\u300d\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Execution Context(Global)                                 \u2502\n\u2502      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502      \u2502                  \u2502     \u2502                   \u2502       \u2502\n\u2502      \u2502   Global Object  \u2502     \u2502        this       \u2502       \u2502\n\u2502      \u2502                  \u2502     \u2502                   \u2502       \u2502\n\u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,i.kt)("p",null,"\u7576\u6211\u5011\u5728\u700f\u89bd\u5668\u4e2d\u57f7\u884c JavaScript \u6642\uff0c\u700f\u89bd\u5668\u662f\u4e00\u500b runtime\uff0c\u6240\u4ee5\u6b64\u6642 JavaScript \u6240\u5728\u7684 Global Execution Context\uff0c\u5c31\u662f\u700f\u89bd\u5668\u7684\u5168\u57df\u74b0\u5883\uff0c\u5728\u9019\u500b\u74b0\u5883\u88e1\u6709\u4e00\u500b Global Object \u53eb\u505a\u300cwindow\u300d\u3002\u7576\u6211\u5011\u5728\u9019\u500b\u5168\u57df\u74b0\u5883\u7576\u4e2d\u76f4\u63a5\u6253 ",(0,i.kt)("inlineCode",{parentName:"p"},"console.log(this);")," \u7684\u6642\u5019\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"this")," \u6307\u7684\u5c31\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},"window"),"\u3002\u81f3\u65bc\u7576\u6211\u5011\u5728 node.js \u7576\u4e2d\u57f7\u884c JavaScript \u6642\uff0c\u6b64\u6642\u7684 Global Object \u548c this \u5c31\u6703\u662f node.js \u8a2d\u5b9a\u597d\u7684\u3002"),(0,i.kt)("p",null,"\u5047\u8a2d\u76ee\u524d\u5728\u700f\u89bd\u5668\u4e2d\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"var")," \u5ba3\u544a\u4e00\u500b\u8b8a\u6578 a \uff0c\u800c\u4e14\u9019\u500b\u8b8a\u6578 a \u7b49\u65bc 1 \u6642\uff0c\u5176\u5be6\u5c31\u662f\u5728\u700f\u89bd\u5668\u7576\u4e2d\u7684 Global Object \u4e2d\u5efa\u7acb\u4e00\u500b Name/Value Pair\uff0c\u6240\u4ee5\u53ef\u4ee5\u900f\u904e ",(0,i.kt)("inlineCode",{parentName:"p"},"window.a")," \u9019\u500b\u6307\u4ee4\u4f86\u627e\u5230\u525b\u624d\u5ba3\u544a\u7684\u8b8a\u6578 a\u3002\u5982\u4ee5\u4e0b\u7a0b\u5f0f\u78bc\u6240\u793a\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"var a = 1;\n\na; // 1\nwindow.a; // 1\n")),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"es6 \u65b0\u589e\u4e86\u5169\u500b\u65b0\u7684\u5ba3\u544a\u65b9\u5f0f ",(0,i.kt)("inlineCode",{parentName:"p"},"const")," \u4ee5\u53ca ",(0,i.kt)("inlineCode",{parentName:"p"},"let"),"\uff0c\u9019\u5169\u500b\u7684\u7528\u6cd5\u8207 ",(0,i.kt)("inlineCode",{parentName:"p"},"var")," \u4e0d\u540c\uff0c\u5982\u679c\u5728\u5168\u57df\u74b0\u5883\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"const")," \u6216 ",(0,i.kt)("inlineCode",{parentName:"p"},"let"),"\uff0c\u4e26\u4e0d\u6703\u5728 Global Object \u4e2d\u5efa\u7acb\u4e00\u500b Name/Value Pair\uff0c\u907f\u514d\u4e86\u4e00\u4e9b\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"var")," \u6703\u7522\u751f\u7684\u554f\u984c\u3002\u9019\u4e09\u8005\u7684\u6bd4\u8f03\u53ef\u80fd\u6703\u4e4b\u5f8c\u518d\u5beb\u4e00\u7bc7\u7b46\u8a18\u505a\u66f4\u6df1\u5165\u63a2\u8a0e\u3002")),(0,i.kt)("h2",{id:"-the-execution-context"},"\ud83d\udc33 The Execution Context"),(0,i.kt)("h3",{id:"-creation-and-hoisting"},"\ud83e\udd80 Creation and Hoisting"),(0,i.kt)("p",null,"\u5728\u958b\u59cb\u8aaa\u660e JavaScript Engine \u5982\u4f55\u5275\u5efa\u57f7\u884c\u74b0\u5883\u6642\uff0c\u6211\u5011\u5148\u4f86\u770b\u770b JavaScript \u7684\u7279\u6b8a\u73fe\u8c61\u300cHoisting\u300d\u3002\u9996\u5148\u4f86\u770b\u770b\u4ee5\u4e0b\u7bc4\u4f8b\u4e00\u7684\u7a0b\u5f0f\u78bc\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u7bc4\u4f8b\u4e00\nvar a = 'Hello World!';\n\nfunction b() {\n    console.log('Called b!');\n}\n\nb();\nconsole.log(a);\n")),(0,i.kt)("p",null,"\u5c07\u4e0a\u8ff0\u7684\u7a0b\u5f0f\u78bc\u57f7\u884c\u4e4b\u5f8c\uff0c\u6211\u5011\u53ef\u4ee5\u5f88\u8f15\u9b06\u4e5f\u5982\u5e38\u7684\u9810\u671f\u6703\u5148\u5370\u51fa ",(0,i.kt)("inlineCode",{parentName:"p"},"Called b!"),"\uff0c\u518d\u5370\u51fa\u3000",(0,i.kt)("inlineCode",{parentName:"p"},"Hello World!"),"\uff0c\u4f46\u5982\u679c\u6211\u5011\u628a\u7a0b\u5f0f\u78bc\u6539\u6210\u4e0b\u9762\u9019\u6a23\u5462\uff1f"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u7bc4\u4f8b\u4e8c\nb();\nconsole.log(a);\n\nvar a = 'Hello World!';\n\nfunction b() {\n   console.log('Called b!');\n}\n")),(0,i.kt)("p",null,"\u5982\u679c\u7a0b\u5f0f\u78bc\u662f\u5f9e\u4e0a\u5230\u4e0b\uff0c\u4e00\u884c\u4e00\u884c\u4f9d\u5e8f\u57f7\u884c\u7684\u8a71\uff0c\u7167\u7406\u4f86\u8aaa\u5728\u8dd1\u7b2c\u4e00\u884c\u7684\u6642\u5019\u5c31\u6703\u5831\u932f\uff0c\u56e0\u70ba\u6211\u5011\u5728\u5c1a\u672a\u5ba3\u544a\u8b8a\u6578\u548c\u51fd\u6578\u6642\uff0c\u5c31\u5c0d\u8a72\u8b8a\u6578\u6216\u51fd\u6578\u9032\u884c\u547c\u53eb\u3002\u4f46\u5728 JavaScript \u88e1\u9762\u537b\u4e0d\u662f\u9019\u6a23\uff0c\u5c07\u4ee5\u4e0a\u7a0b\u5f0f\u78bc\u57f7\u884c\u4e4b\u5f8c\uff0cJavaScript\u6703\u5e6b\u6211\u5011\u5370\u51fa\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"Called b!\nundefined\n")),(0,i.kt)("p",null,"JavaScript \u4e26\u6c92\u6709\u5e6b\u6211\u5011\u5831\u932f\uff0c\u53cd\u800c\u5370\u51fa\u6771\u897f\u4f86\uff0c\u9019\u662f\u56e0\u70ba\u5728\u9019\u7576\u4e2d\u5b58\u5728\u8457\u300cHoisting\u300d\u7684\u73fe\u8c61\u3002\u5f88\u591a\u7db2\u8def\u4e0a\u5c0d\u300cHoisting\u300d\u7684\u89e3\u91cb\u5927\u90e8\u5206\u90fd\u662f\uff1a\u60f3\u50cf JavaScript Engine \u5c07\u6240\u5beb\u7684\u5ba3\u544a\u7684\u7a0b\u5f0f\u78bc\uff08\u4f46\u5982\u679c\u662f\u5ba3\u544a\u8b8a\u6578\u7684\u8a71\uff0c\u53ea\u6703\u63d0\u5347\u5ba3\u544a\u7684\u8b8a\u6578\uff0c\u4e0d\u6703\u9023\u540c\u8ce6\u503c\u7684\u90e8\u5206\u4e00\u8d77\u63d0\u5347\uff09\u63d0\u5347\u5230\u6700\u4e0a\u9762\u7684\u5730\u65b9\uff0c\u6bd4\u5982\u60f3\u50cf\u7bc4\u4f8b\u4e8c\u7684\u7a0b\u5f0f\u78bc\u8b8a\u6210\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"funciton b() {\n    console.log('Called b!');\n}\n\nvar a;\n\nb();\nconsole.log(a);\n\na = 'Hello World!';\n")),(0,i.kt)("p",null,"\u6240\u4ee5\u6211\u5011\u624d\u6703\u5f97\u5230\u5370\u51fa ",(0,i.kt)("inlineCode",{parentName:"p"},"Called b!")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"undefined")," \u7684\u7d50\u679c\u3002\u4f46\u5176\u5be6 JavaScript Engine \u4e26\u4e0d\u6703\u771f\u7684\u53bb\u8abf\u52d5\u4f60\u6240\u5beb\u7684\u7a0b\u5f0f\u78bc\u7684\u4f4d\u7f6e\uff0c\u6240\u4ee5\u300c",(0,i.kt)("strong",{parentName:"p"},"\u60f3\u50cf JavaScript Engine \u5c07\u6240\u5beb\u7684\u5ba3\u544a\u7684\u7a0b\u5f0f\u78bc\uff08\u4f46\u5982\u679c\u662f\u5ba3\u544a\u8b8a\u6578\u7684\u8a71\uff0c\u53ea\u6703\u63d0\u5347\u5ba3\u544a\u7684\u8b8a\u6578\uff0c\u4e0d\u6703\u9023\u540c\u8ce6\u503c\u7684\u90e8\u5206\u4e00\u8d77\u63d0\u5347\uff09\u63d0\u5347\u5230\u6700\u4e0a\u9762\u7684\u5730\u65b9"),"\u300d\u9019\u6a23\u7684\u63cf\u8ff0\u96d6\u7136\u80fd\u5920\u89e3\u91cb Hoisting \u9019\u500b\u73fe\u8c61\uff0c\u4f46\u5b83\u4e26\u6c92\u6709\u7cbe\u78ba\u5730\u53bb\u63cf\u8ff0 JavaScript Engine \u5728 Hoisting \u7684\u6642\u5019\u5be6\u969b\u4e0a\u5230\u5e95\u505a\u4e86\u4ec0\u9ebc\u3002"),(0,i.kt)("p",null,"\u6240\u4ee5 JavaScript Engine \u5230\u5e95\u505a\u4e86\u4ec0\u9ebc\uff1f\u5728 Execution Context \u88ab\u5275\u5efa\u4e4b\u5f8c\uff0c\u9664\u4e86\u540c\u6642\u5275\u5efa\u4e86 Global Obeject\u3001this \u4e4b\u5916\uff0c\u9084\u6703\u540c\u6642\u5148\u9810\u7559\u8a18\u61b6\u9ad4\u4f4d\u7f6e\u7d66\u8b8a\u6578\u8207\u51fd\u5f0f\u3002"),(0,i.kt)("p",null,"\u9019\u500b\u300c",(0,i.kt)("strong",{parentName:"p"},"\u5148\u9810\u7559\u8a18\u61b6\u9ad4\u4f4d\u7f6e\u7d66\u8b8a\u6578\u8207\u51fd\u5f0f"),"\u300d\u7684\u52d5\u4f5c\u5c31\u662f Hoisting\u3002\u4f46\u8981\u7279\u5225\u6ce8\u610f\u7684\u5730\u65b9\u662f\uff1a\u7576\u5ba3\u544a\u7684 function \u88ab hoisted \u7684\u6642\u5019\uff0c\u9664\u4e86 funciton \u7684\u540d\u7a31\u6703\u88ab hoisted\uff0c\u6574\u500b funciton \u88e1\u9762\u7684 code \u4e5f\u6703\u88ab hoisted\u3002\u4f46\u5982\u679c\u662f\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"var")," \u4f86\u5ba3\u544a\u8b8a\u6578\u7684\u6642\u5019\uff0c\u53ea\u6709\u8b8a\u6578\u7684\u540d\u7a31\u6703\u88ab hoisted\uff0c\u8ce6\u503c\u9019\u500b\u52d5\u4f5c\u4e26\u4e0d\u6703\u88ab hoisted\uff0c\u7136\u5f8c JavaScript Engine \u6703\u5c07\u6240\u6709\u88ab hoisted variable \u7684\u521d\u59cb\u503c\u8a2d\u70ba undefined\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                                                    \u2502\n\u2502  Execution Context is Created (Creation Phase)                                     \u2502\n\u2502                                                                                    \u2502\n\u2502      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502      \u2502      Global        \u2502    \u2502                   \u2502      \u2502      Outer       \u2502     \u2502\n\u2502      \u2502                    \u2502    \u2502      'this'       \u2502      \u2502                  \u2502     \u2502\n\u2502      \u2502      Object        \u2502    \u2502                   \u2502      \u2502   Environment    \u2502     \u2502\n\u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                                                                    \u2502\n\u2502      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502      \u2502      Set up Memory Space for Variables and Functions                  \u2502     \u2502\n\u2502      \u2502                                                                       \u2502     \u2502\n\u2502      \u2502            \"Hoisting\"                                                 \u2502     \u2502\n\u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                                                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"\u76e1\u91cf\u5728\u57f7\u884c\u51fd\u6578\u6216\u4f7f\u7528\u8b8a\u6578\u4e4b\u524d\u5148\u5ba3\u544a\u4ed6\u5011\uff0c\u4e0d\u8981\u904e\u5ea6\u4f9d\u8cf4\u65bc Hoisting \u7684\u73fe\u8c61\u3002\u56e0\u70ba\u4f60\u4e0d\u77e5\u9053\u4f60\u5ba3\u544a\u7684\u8b8a\u6578\u6709\u6c92\u6709\u53ef\u80fd\u6703\u8b8a\u6210 undefined\u3002")),(0,i.kt)("h3",{id:"-code-execution"},"\ud83e\udd80 Code Execution"),(0,i.kt)("p",null,"JavaScript \u5728\u57f7\u884c\u7a0b\u5f0f\u78bc\u7684\u6642\u5019\u5c31\u6bd4\u8f03\u597d\u7406\u89e3\u4e86\uff0c\u4e0d\u6703\u6709\u4ec0\u9ebc Hoisting \u5566\u4e4b\u985e\u7684\u5947\u602a\u7684\u4e8b\u60c5\u767c\u751f\uff0c\u5c31\u662f\u6211\u5011\u5beb\u597d\u7684\u7a0b\u5f0f\u78bc\u6703\u88ab JavaScript Engine \u5728\u5b83\u8a72\u5728\u7684\u74b0\u5883\u7576\u4e2d\u88ab\u4e00\u884c\u4e00\u884c\u7684\u57f7\u884c\u3002\u4f46\u8981\u7279\u5225\u6ce8\u610f\u7684\u662f\uff0cJavaScript \u662f\u55ae\u57f7\u884c\u7dd2\u7684\u8a9e\u8a00\u5594\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                                                                    \u2502\n\u2502  Execution Context is Created (Execution Phase)                                    \u2502\n\u2502                                                                                    \u2502\n\u2502      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502      \u2502      Global        \u2502    \u2502                   \u2502      \u2502      Outer       \u2502     \u2502\n\u2502      \u2502                    \u2502    \u2502      'this'       \u2502      \u2502                  \u2502     \u2502\n\u2502      \u2502      Object        \u2502    \u2502                   \u2502      \u2502   Environment    \u2502     \u2502\n\u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                                                                    \u2502\n\u2502      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502      \u2502                                                                       \u2502     \u2502\n\u2502      \u2502                            Runs Your Code                             \u2502     \u2502  \n\u2502      \u2502                                                                       \u2502     \u2502\n\u2502      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                                                                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,i.kt)("h2",{id:"-function-invocation-and-the-execution-stackcall-stack"},"\ud83d\udc33 Function Invocation and the Execution Stack(Call Stack)"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"nvocation"),": running a function",(0,i.kt)("br",{parentName:"p"}),"\n","In JavaScript, we can use parenthesis() to invocate function.")),(0,i.kt)("p",null,"\u7576\u4f7f\u7528 JavaScript \u547c\u53eb\u51fd\u5f0f\u7684\u6642\u5019\uff0c\u5e95\u5c64\u505a\u4e86\u4ec0\u9ebc\u6a23\u7684\u4e8b\u60c5\uff1f\u63db\u53e5\u8a71\u8aaa\uff0c\u51fd\u5f0f\u88ab\u6211\u5011\u547c\u53eb\u4ee5\u5f8c\uff0cJavaScript \u662f\u600e\u9ebc\u57f7\u884c\u9019\u4e9b\u51fd\u5f0f\u7684\uff1f\u6211\u5011\u53ef\u4ee5\u8a66\u8457\u7528\u4ee5\u4e0b\u7684\u7a0b\u5f0f\u78bc\u4f86\u8209\u4f8b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"function b() {\n    \n}\n\nfunction a() {\n    b();\n}\n\na();\n")),(0,i.kt)("p",null,"\u7576\u6211\u5011\u958b\u59cb\u57f7\u884c\u4ee5\u4e0a\u7684\u7a0b\u5f0f\u78bc\u7684\u6642\u5019\uff0c\u9996\u5148\u6703\u5148\u5728 Execution Stack \u88e1\u9762\u5efa\u7acb\u4e00\u500b Global Execution Context\uff0c\u63a5\u8457\u7576\u7a0b\u5f0f\u78bc\u4e00\u884c\u4e00\u884c\u8dd1\u4e0b\u4f86\u8dd1\u5230 ",(0,i.kt)("inlineCode",{parentName:"p"},"a()")," \u7136\u5f8c\u57f7\u884c ",(0,i.kt)("inlineCode",{parentName:"p"},"a")," \u9019\u500b\u51fd\u5f0f\u7684\u6642\u5019\uff0cJavaScript \u6703\u70ba\u9019\u500b\u51fd\u6578\u5275\u5efa\u5b83\u7684 Execution Context\uff0c\u4e26\u5c07\u5b83\u653e\u5230 Execution Stack\uff08\u57f7\u884c\u5806\u758a\uff09\u7576\u4e2d\uff0c\u758a\u5728 Global Execution Context \u4e0a\u9762\u3002"),(0,i.kt)("p",null,"\u7136\u5f8c\u56e0\u70ba ",(0,i.kt)("inlineCode",{parentName:"p"},"a()")," \u51fd\u5f0f\u88ab\u57f7\u884c\u4e86\uff0c\u9023\u5e36 ",(0,i.kt)("inlineCode",{parentName:"p"},"a()")," \u7576\u4e2d\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"b()")," \u4e5f\u88ab\u57f7\u884c\uff0c\u6240\u4ee5 JavaScript \u4e5f\u70ba ",(0,i.kt)("inlineCode",{parentName:"p"},"b()")," \u51fd\u5f0f\u5275\u5efa\u4e86\u4e00\u500b Execution Context\uff0c\u800c ",(0,i.kt)("inlineCode",{parentName:"p"},"b()")," \u7684 Execution Context \u6703\u758a\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"a()")," \u4e0a\u9762\u3002"),(0,i.kt)("p",null,"\u5728 Execution Stack \u7576\u4e2d\u51fd\u5f0f\u7684\u57f7\u884c\u9806\u5e8f\u662f\u7531\u4e0a\u5f80\u4e0b\u57f7\u884c\u7684\uff0c\u4e5f\u5c31\u662f\u8aaa\uff0c\u4ee5\u6b64\u7bc4\u4f8b\u70ba\u4f8b\uff0c\u6703\u5148\u57f7\u884c ",(0,i.kt)("inlineCode",{parentName:"p"},"b()"),"\u3001\u5728\u57f7\u884c ",(0,i.kt)("inlineCode",{parentName:"p"},"a()"),"\uff0c\u7576 ",(0,i.kt)("inlineCode",{parentName:"p"},"b()")," \u57f7\u884c\u5b8c\u4e4b\u5f8c\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"b()"),"\u5c31\u6703\u96e2\u958b\u57f7\u884c\u5806\u758a\uff08\u82f1\u6587\u7a31\u4f5c pop off\uff09\uff0c\u4ee5\u6b64\u985e\u63a8\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"                   .\n                   .\n\u2502                  .                  \u2502\n\u2502                  .                  \u2502\n\u2502                  .                  \u2502\n\u2502                  .                  \u2502\n\u2502                                     \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2500\u2500\u2500\u2500\u25ba Execution Stack\n\u2502 \u2502             b()                 \u2502 \u2502\n\u2502 \u2502      Execution Context          \u2502 \u2502\n\u2502 \u2502     (create and execute)        \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                     \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502            a()                  \u2502 \u2502\n\u2502 \u2502      Execution Context          \u2502 \u2502\n\u2502 \u2502     (create and execute)        \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                     \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502    Global Execution Context     \u2502 \u2502\n\u2502 \u2502  (created and code is executed) \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,i.kt)("h2",{id:"-functions-context-and-variables-environments"},"\ud83d\udc33 Functions, Context, and Variables Environments"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"Variable Environment"),": where the variables live and how they realte to each other in memory")),(0,i.kt)("p",null,"\u5728\u6bcf\u500b Execution Context \u88ab\u5275\u5efa\u4e4b\u5f8c\uff0c\u540c\u6642\u8a72 Execution Context \u4e5f\u6703\u6709\u4e00\u500b\u81ea\u5df1\u7684 Variable Environment\u3002\u6211\u5011\u53ef\u4ee5\u900f\u904e\u4ee5\u4e0b\u7684\u7a0b\u5f0f\u78bc\u70ba\u4f8b\uff0c\u4f86\u8aaa\u660e Variable Environment \u5728 JavaScript \u4e2d\u662f\u5982\u4f55\u88ab\u5efa\u7acb\u7684\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"function b() {\n    var myVar;\n}\n\nfunction a() {\n    var myVar = 2;\n    b();\n}\n\nvar myVar = 1;\na();\n")),(0,i.kt)("p",null,"\u7576\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\u88ab\u57f7\u884c\u4e4b\u5f8c\uff0cmyVar \u6703\u662f\u4ec0\u9ebc\u503c\uff1f\u7a0b\u5f0f\u78bc\u57f7\u884c\u5f8c\uff0cJavaScript Engine \u6703\u5206\u5225\u5728 Global\u3001a()\u3001b() \u5404\u81ea\u7684 Execution Context \u4e2d\u5404\u5efa\u7acb\u4e00\u500b Variable Environment\uff0c\u6240\u4ee5 myVar \u5728\u4e0d\u540c\u7684 Execution Context \u7576\u4e2d\u5c31\u6703\u6709\u4e0d\u540c\u7684\u503c\uff0c\u9700\u8981\u5148\u89c0\u5bdf\u76ee\u524d\u7a0b\u5f0f\u78bc\u57f7\u884c\u5230\u54ea\u908a\uff0c\u518d\u53bb\u5224\u65b7 myVar \u76ee\u524d\u7684\u503c\u3002\u5982\u4e0b\u5716\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\u2502                                                        \u2502\n\u2502                                                        \u2502\n\u2502                                                        \u2502\n\u2502                                                        \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba Execution Stack\n\u2502   \u2502                  b()                          \u2502    \u2502\n\u2502   \u2502                                               \u2502    \u2502\n\u2502   \u2502           Execution Context       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502    \u2502\n\u2502   \u2502                                   \u2502   myVar \u2502 \u2502    \u2502\n\u2502   \u2502          (create and execute)     \u2502undefined\u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518    \u2502      \u2502\n\u2502                                                        \u2502      \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502      \u2502\n\u2502   \u2502                  a()                          \u2502    \u2502      \u2502\n\u2502   \u2502                                               \u2502    \u2502      \u2502\n\u2502   \u2502           Execution Context         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502    \u2502      \u2502\n\u2502   \u2502                                     \u2502 myVar \u2502 \u2502    \u2502      \u2502\n\u2502   \u2502          (create and execute)       \u2502   2   \u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u25ba Variable Environment\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518    \u2502      \u2502\n\u2502                                                        \u2502      \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502      \u2502\n\u2502   \u2502                                               \u2502    \u2502      \u2502\n\u2502   \u2502      Global Execution Context                 \u2502    \u2502      \u2502\n\u2502   \u2502                                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502    \u2502      \u2502\n\u2502   \u2502    (created and code is executed)   \u2502 myVar \u2502 \u2502    \u2502      \u2502\n\u2502   \u2502                                     \u2502   1   \u251c\u2500\u253c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2518    \u2502\n\u2502                                                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,i.kt)("h2",{id:"-the-scope-chain"},"\ud83d\udc33 The Scope Chain"),(0,i.kt)("p",null,"\u9084\u8a18\u5f97\u6211\u5011\u5728\u524d\u9762\u63d0\u5230\uff0c\u7a0b\u5f0f\u78bc\u57f7\u884c\u4e4b\u5f8c\uff0c\u6703\u70ba\u6bcf\u500b\u57f7\u884c\u7684\u51fd\u6578\u5efa\u7acb\u81ea\u5df1\u7684 Execution Context\u3001\u81ea\u5df1\u7684 Variable Environment\u3002\u73fe\u5728\u6211\u5011\u8981\u8ac7\u5230\uff0c\u7576\u7a0b\u5f0f\u78bc\u57f7\u884c\u5f8c\u9664\u4e86\u6703\u5efa\u7acb\u4e0a\u8ff0\u63d0\u5230\u7684\u90e8\u5206\uff0c\u9084\u6703\u5efa\u7acb\u4e00\u500b Outer Environment\uff0c\u610f\u601d\u5c31\u662f\u6307\u6703\u5efa\u7acb\u4e00\u500b\u5c0d\u5916\u7684 Scope \u53c3\u7167\u3002"),(0,i.kt)("p",null,"\u7e3d\u7d50\u4f86\u8aaa\uff0c\u7576\u4e00\u500b Execution Context \u88ab\u5efa\u7acb\u7684\u6642\u5019\uff0c\u88e1\u9762\u6703\u6709\u4ee5\u4e0b\u5e7e\u7a2e\u6771\u897f\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Global Object"),(0,i.kt)("li",{parentName:"ul"},"this"),(0,i.kt)("li",{parentName:"ul"},"Hoisting"),(0,i.kt)("li",{parentName:"ul"},"Outer Environment"),(0,i.kt)("li",{parentName:"ul"},"Variable Environment")),(0,i.kt)("p",null,"\u6240\u4ee5\uff0c\u5efa\u7acb\u4e00\u500b\u5c0d\u5916\u7684 Scope \u53c3\u7167\u662f\u4ec0\u9ebc\u610f\u601d\uff1f"),(0,i.kt)("p",null,"\u5982\u679c\u7528\u6587\u5b57\u6558\u8ff0\u4f86\u8aaa\u660e\u7684\u8a71\uff0c\u6307\u7684\u662f JavaScript Engine \u6703\u53bb\u6aa2\u67e5\u8a72\u7a0b\u5f0f\u78bc\uff08\u6bd4\u5982\u8aaa\u67d0\u500b function\uff09\u7684 Lexical Environment\uff0c\u4e5f\u5c31\u662f\u53bb\u6aa2\u67e5\u67d0\u500b funciton \u7684\u6240\u5728\u4f4d\u7f6e\uff0c\u518d\u5c07\u8a72 function \u6240\u5728\u4f4d\u7f6e\u7684 variable environment \u7576\u4f5c\u53c3\u7167\u3002"),(0,i.kt)("p",null,"\u6bd4\u5982\u67d0\u500b function \u662f\u5728\u5168\u57df\u74b0\u5883\u4e2d\u5ba3\u544a\u7684\uff0c\u90a3\u9ebc\u7576 JavaScript Engine \u5728\u57f7\u884c\u8a72 function \u7684\u6642\u5019\uff0c\u9664\u4e86\u6703\u5efa\u7acb function \u81ea\u5df1\u7684 variable environment \u4e4b\u5916\uff0c\u4e5f\u6703\u53bb\u53c3\u7167\u9019\u500b function \u6240\u5728\u4f4d\u7f6e\u7684 variable environment\uff0c\u4e5f\u5c31\u662f\u5168\u57df\u74b0\u5883\u7684 variable environment\u3002"),(0,i.kt)("p",null,"\u800c\u4e0a\u8ff0\u63d0\u5230\u7684\u9019\u7a2e\u884c\u70ba\uff0c\u4fbf\u6703\u5c0e\u81f4\u4e00\u500b\u7a31\u70ba\u300cScope Chain\u300d\u7684\u73fe\u8c61\u767c\u751f\u3002\u6211\u5011\u73fe\u5728\u53ef\u4ee5\u4f86\u770b\u770b\u4ee5\u4e0b\u5e7e\u500b\u4e0d\u540c\u7684\u7a0b\u5f0f\u78bc\uff0c\u4f86\u66f4\u52a0\u4e86\u89e3 Scope Chain\u3002"),(0,i.kt)("hr",null),(0,i.kt)("p",null,"\u9996\u5148\u4f86\u89c0\u5bdf\u72c0\u6cc1\u4e00\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"b()")," \u88e1\u9762\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"console.log(myVar)")," \u6703\u5370\u51fa\u4ec0\u9ebc\uff1f"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u72c0\u6cc1\u4e00\nfunction b() {\n    console.log(myVar);\n}\n\nfunction a() {\n    var myVar = 2;\n    b();\n}\n\nvar myVar = 1;\na();\n")),(0,i.kt)("p",null,"\u56e0\u70ba ",(0,i.kt)("inlineCode",{parentName:"p"},"b()")," \u88e1\u9762\u4e26\u6c92\u6709\u5ba3\u544a ",(0,i.kt)("inlineCode",{parentName:"p"},"myVar")," \u9019\u500b\u8b8a\u6578\uff0c\u6240\u4ee5 JavaScript Engine \u6703\u85c9\u7531 Lexical Context \u53bb\u6aa2\u67e5 ",(0,i.kt)("inlineCode",{parentName:"p"},"function b")," \u5728\u54ea\u500b\u74b0\u5883\u88ab\u5ba3\u544a\u7684\uff0c\u6aa2\u67e5\u4e4b\u5f8c\u767c\u73fe\u662f\u5728\u5168\u57df\uff0c\u65bc\u662f JavaScript Engine \u53c8\u5728\u5168\u57df\u74b0\u5883\u4e2d\u6aa2\u67e5\u662f\u4e0d\u662f\u6709 ",(0,i.kt)("inlineCode",{parentName:"p"},"myVar")," \u9019\u500b\u8b8a\u6578\uff0c\u7136\u5f8c\u767c\u73fe\u6709\uff0c\u65bc\u662f\u4fbf\u5370\u51fa ",(0,i.kt)("inlineCode",{parentName:"p"},"1"),"\u3002"),(0,i.kt)("hr",null),(0,i.kt)("p",null,"\u63a5\u4e0b\u4f86\u4f86\u770b\u770b\u72c0\u6cc1\u4e8c\uff0c\u5728\u72c0\u6cc1\u4e8c\u7684\u7a0b\u5f0f\u78bc\u4e2d\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"b()")," \u88e1\u9762\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"console.log(myVar)")," \u6703\u5370\u51fa\u4ec0\u9ebc\uff1f"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u72c0\u6cc1\u4e8c\nfunction a() {\n    function b() {\n        console.log(myVar);\n    }\n    \n    var myVar = 2;\n    b();\n}\n\nvar myVar = 1;\na();\n")),(0,i.kt)("p",null,"\u56e0\u70ba ",(0,i.kt)("inlineCode",{parentName:"p"},"b()")," \u88e1\u9762\u4e26\u6c92\u6709\u5ba3\u544a ",(0,i.kt)("inlineCode",{parentName:"p"},"myVar")," \u9019\u500b\u8b8a\u6578\uff0c\u6240\u4ee5 JavaScript Engine \u6703\u85c9\u7531 Lexical Context \u53bb\u6aa2\u67e5 ",(0,i.kt)("inlineCode",{parentName:"p"},"function b")," \u5728\u54ea\u500b\u74b0\u5883\u88ab\u5ba3\u544a\u7684\uff0c\u6aa2\u67e5\u4e4b\u5f8c\u767c\u73fe\u662f\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"a function")," \u88e1\u9762\u5ba3\u544a\u7684\uff0c\u65bc\u662f JavaScript Engine \u53c8\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"a function")," \u7684\u57f7\u884c\u74b0\u5883\u4e2d\u6aa2\u67e5\u662f\u4e0d\u662f\u6709 ",(0,i.kt)("inlineCode",{parentName:"p"},"myVar")," \u9019\u500b\u8b8a\u6578\uff0c\u7136\u5f8c\u767c\u73fe\u6709\uff0c\u65bc\u662f\u4fbf\u5370\u51fa ",(0,i.kt)("inlineCode",{parentName:"p"},"\uff12"),"\u3002"),(0,i.kt)("hr",null),(0,i.kt)("p",null,"\u63a5\u4e0b\u4f86\u4f86\u770b\u770b\u72c0\u6cc1\u4e09\uff0c\u5728\u72c0\u6cc1\u4e09\u7684\u7a0b\u5f0f\u78bc\u4e2d\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"b()")," \u88e1\u9762\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"console.log(myVar)")," \u6703\u5370\u51fa\u4ec0\u9ebc\uff1f"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u72c0\u6cc1\u4e09\nfunction a() {\n    function b() {\n        console.log(myVar);\n    }\n    b();\n}\n\nvar myVar = 1;\na();\n")),(0,i.kt)("p",null,"\u56e0\u70ba ",(0,i.kt)("inlineCode",{parentName:"p"},"b()")," \u88e1\u9762\u4e26\u6c92\u6709\u5ba3\u544a ",(0,i.kt)("inlineCode",{parentName:"p"},"myVar")," \u9019\u500b\u8b8a\u6578\uff0c\u6240\u4ee5 JavaScript Engine \u6703\u85c9\u7531 Lexical Context \u53bb\u6aa2\u67e5 ",(0,i.kt)("inlineCode",{parentName:"p"},"function b")," \u5728\u54ea\u500b\u74b0\u5883\u88ab\u5ba3\u544a\u7684\uff0c\u6aa2\u67e5\u4e4b\u5f8c\u767c\u73fe\u662f\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"a function")," \u88e1\u9762\u5ba3\u544a\u7684\uff0c\u65bc\u662f JavaScript Engine \u53c8\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"a function")," \u7684\u57f7\u884c\u74b0\u5883\u4e2d\u6aa2\u67e5\u662f\u4e0d\u662f\u6709 ",(0,i.kt)("inlineCode",{parentName:"p"},"myVar")," \u9019\u500b\u8b8a\u6578\uff0c\u7136\u5f8c\u767c\u73fe\u6c92\u6709\uff0c\u65bc\u662f\u53c8\u518d\u7e7c\u7e8c\u6aa2\u67e5 ",(0,i.kt)("inlineCode",{parentName:"p"},"a funciton")," \u662f\u5728\u54ea\u500b\u74b0\u5883\u88ab\u5ba3\u544a\u7684\uff0c\u6aa2\u67e5\u4e4b\u5f8c\u767c\u73fe\u662f\u5728\u5168\u57df\u74b0\u5883\uff0c\u65bc\u662f\u53c8\u518d\u7e7c\u7e8c\u6aa2\u67e5\u5168\u57df\u74b0\u5883\u6709\u6c92\u6709\u8b8a\u6578 ",(0,i.kt)("inlineCode",{parentName:"p"},"myVar"),"\uff0c\u7136\u5f8c\u7d42\u65bc\u767c\u73fe\u6709\uff0c\u65bc\u662f\u4fbf\u5370\u51fa ",(0,i.kt)("inlineCode",{parentName:"p"},"1"),"\u3002"),(0,i.kt)("hr",null),(0,i.kt)("p",null,"\u5f9e\u4ee5\u4e0a\u4e09\u500b\u72c0\u6cc1\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\u4ee5\u4e0b\u5e7e\u500b\u6b65\u9a5f\uff1a"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u67d0\u500b\u51fd\u5f0f\u88ab\u547c\u53eb\u4e26\u57f7\u884c"),(0,i.kt)("li",{parentName:"ol"},"JavaScript Engine \u6aa2\u67e5\u8a72\u51fd\u5f0f\u7684 Lexical Context\uff0c\u78ba\u5b9a\u5b83\u7684 Outer Environment\uff08\u4e5f\u5c31\u662f\u51fd\u5f0f\u88ab\u5ba3\u544a\u7684\u74b0\u5883\uff09\u3002"),(0,i.kt)("li",{parentName:"ol"},"\u5982\u679c\u67d0\u500b\u51fd\u5f0f\u547c\u53eb\u4e86\u4e00\u500b\u81ea\u5df1\u7684 Variable Environment \u6c92\u6709\u7684\u8b8a\u6578\uff0cJavaScript Engine \u5c31\u6703\u958b\u59cb\u5f80 Outer Environment \u7684 Variable Environment \u6aa2\u67e5\u6709\u6c92\u6709\u90a3\u500b\u8b8a\u6578\u3002"),(0,i.kt)("li",{parentName:"ol"},"\u4e00\u76f4\u91cd\u8907\u6b65\u9a5f 3\uff0c\u76f4\u5230\u627e\u5230\u90a3\u500b\u8b8a\u6578\uff0c\u6216\u662f\u627e\u5230\u6700\u5f8c\u767c\u73fe\u6c92\u6709\u90a3\u500b\u8b8a\u6578")),(0,i.kt)("p",null,"\u9019\u7a2e\u4e0d\u65b7\u5730\u5f80 Outer Environment \u5c0b\u627e Variable \u7684\u73fe\u8c61\u5c31\u7a31\u70ba\u300cScope Chain\u300d\u3002"),(0,i.kt)("h2",{id:"-scope-es6-and-let"},"\ud83d\udc33 Scope, ES6, and let"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Scope: where a variable is available in your code.")),(0,i.kt)("p",null,"\u5728 ES6 \u4ee5\u524d\uff0c\u82e5\u60f3\u8981\u5ba3\u544a\u4e00\u500b\u8b8a\u6578\uff0c\u53ea\u6709 ",(0,i.kt)("inlineCode",{parentName:"p"},"var")," \u53ef\u4ee5\u7528\uff0c\u4f46\u5728 ES6 \u516c\u5e03\u4e4b\u5f8c\uff0c\u76ee\u524d\u6709 ",(0,i.kt)("inlineCode",{parentName:"p"},"var"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"const"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"let")," \u53ef\u4ee5\u7528\u4f86\u5ba3\u544a\u8b8a\u6578\u3002"),(0,i.kt)("p",null,"\u9019\u4e09\u8005\u4e4b\u9593\u4e5f\u6709\u4e9b\u8a31\u4e0d\u540c\u3002\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"let")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"const")," \u5ba3\u544a\u8b8a\u6578\u5f8c\uff0c\u90a3\u500b\u8b8a\u6578\u6240\u5728\u7684 Scope \u662f\u4e00\u500b block Scope\uff08\u4f8b\u5982\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"{}"),"\u570d\u8d77\u4f86\u5c31\u662f\u4e00\u500b block\uff09\uff0c\u800c\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"var")," \u5247\u6703\u5c07\u8b8a\u6578\u5ba3\u544a\u5728 Function Scope \u7576\u4e2d\u3002"),(0,i.kt)("p",null,"\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"var"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"const"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"let")," \u90fd\u6703\u6709 Hoisting \u7684\u73fe\u8c61\uff0c\u53ea\u662f\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"var")," \u6642\uff0c\u6703\u7d66\u4e88\u8b8a\u6578\u4e00\u500b undefined \u7684\u521d\u59cb\u503c\uff0c\u4f46\u5982\u679c\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},"const"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"let")," \u7684\u8a71\uff0c\u5247\u662f\u6703\u8b93\u8b8a\u6578\u5b58\u5728\u66ab\u6642\u6b7b\u5340\u7121\u6cd5\u4f7f\u7528\uff0c\u7136\u5f8c\u5831\u932f\u3002"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null}),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"th"},"var")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"th"},"const")),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"th"},"let")))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"\u4f5c\u7528\u57df"),(0,i.kt)("td",{parentName:"tr",align:null},"\u51fd\u5f0f\u4f5c\u7528\u57df"),(0,i.kt)("td",{parentName:"tr",align:null},"\u5340\u584a\u4f5c\u7528\u57df"),(0,i.kt)("td",{parentName:"tr",align:null},"\u5340\u584a\u4f5c\u7528\u57df")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Hoisting"),(0,i.kt)("td",{parentName:"tr",align:null},"undefined"),(0,i.kt)("td",{parentName:"tr",align:null},"\u9032\u5165\u66ab\u6642\u6b7b\u5340\uff0c\u6703\u5831\u932f"),(0,i.kt)("td",{parentName:"tr",align:null},"\u9032\u5165\u66ab\u6642\u6b7b\u5340\uff0c\u6703\u5831\u932f")))),(0,i.kt)("h2",{id:"-what-about-asynchronous-callbacks"},"\ud83d\udc33 What about Asynchronous Callbacks?"),(0,i.kt)("p",null,"\u5728\u524d\u9762\u7684\u5f71\u7247\u6709\u63d0\u5230 JavaScript \u662f\u4e00\u500b\u55ae\u57f7\u884c\u7dd2\u3001\u540c\u6b65\u7684\u8a9e\u8a00\uff08\u4e00\u6b21\u53ea\u505a\u4e00\u4ef6\u4e8b\u60c5\uff09\uff0c\u4f46\u662f\u5728\u700f\u89bd\u5668\u7576\u4e2d\u537b\u53ef\u4ee5\u505a\u5230\u975e\u540c\u6b65\uff08\u4e00\u6b21\u505a\u5f88\u591a\u4ef6\u4e8b\u60c5\uff09\uff0c\u9019\u5230\u5e95\u662f\u5982\u4f55\u8fa6\u5230\u7684\uff1f\u662f\u56e0\u70ba\u6709\u700f\u89bd\u5668\u9019\u500b\u57f7\u884c\u7684\u74b0\u5883\uff0c\u5b83\u53ef\u4ee5\u5148\u505a\u4e00\u4e9b\u975e\u540c\u6b65\u7684\u8655\u7406\uff0c\u7136\u5f8c\u518d\u5c07\u8655\u7406\u597d\u7684\u51fd\u6578\u4e00\u4e00\u4e1f\u5230 JavaScript Engine \u7576\u4e2d\u53bb\u57f7\u884c\u3002"),(0,i.kt)("p",null,"\u700f\u89bd\u5668\u8655\u7406\u975e\u540c\u6b65\u7684\u904e\u7a0b\u6709\u500b\u5c08\u6709\u540d\u8a5e\u7a31\u70ba Event Loop\uff0c\u4e5f\u8a31\u4e4b\u5f8c\u53ef\u4ee5\u518d\u5beb\u4e00\u7bc7\u7b46\u8a18\u4f86\u8a18\u9304\u700f\u89bd\u5668\u7576\u4e2d\u7684 Event Loop \u662f\u5982\u4f55\u904b\u4f5c\u7684\u3002"))}d.isMDXComponent=!0}}]);